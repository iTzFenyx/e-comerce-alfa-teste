<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedido Confirmado - TechStore</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1><i class="fas fa-bolt"></i> TechStore</h1>
                </div>
                <nav class="nav">
                    <ul>
                        <li><a href="index.html">Início</a></li>
                        <li><a href="index.html#products">Produtos</a></li>
                        <li><a href="about.html">Sobre</a></li>
                        <li><a href="contact.html">Contato</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <button class="btn-user" onclick="toggleUserMenu()" title="Minha Conta">
                        <i class="fas fa-user"></i>
                    </button>
                    <button class="btn-cart" onclick="toggleCart()" title="Carrinho">
                        <i class="fas fa-shopping-bag"></i>
                        <span id="cart-count" class="cart-count">0</span>
                    </button>
                    <button class="btn-theme" onclick="toggleTheme()" title="Alternar Tema">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="success-section">
            <div class="container">
                <div class="success-content" data-aos="zoom-in">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h1>Pedido Confirmado!</h1>
                    <p class="success-message">Seu pedido foi realizado com sucesso e já está sendo processado.</p>
                    
                    <div class="order-confirmation">
                        <div class="order-number">
                            <strong>Número do Pedido:</strong>
                            <span id="order-number" class="highlight"></span>
                        </div>
                        <div class="order-details">
                            <div class="detail-item">
                                <i class="fas fa-envelope"></i>
                                <span>E-mail de confirmação enviado para:</span>
                                <strong id="customer-email"></strong>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-truck"></i>
                                <span>Previsão de entrega:</span>
                                <strong>5 a 10 dias úteis</strong>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-credit-card"></i>
                                <span>Forma de pagamento:</span>
                                <strong id="payment-method"></strong>
                            </div>
                        </div>
                    </div>
                    
                    <div class="order-summary-success">
                        <h3>Resumo do Pedido</h3>
                        <div id="success-order-items" class="success-items">
                            <!-- Order items will be loaded here -->
                        </div>
                        <div class="success-totals">
                            <div class="total-row">
                                <span>Subtotal:</span>
                                <span>R$ <span id="success-subtotal">0.00</span></span>
                            </div>
                            <div class="total-row">
                                <span>Frete:</span>
                                <span id="success-shipping">0.00</span>
                            </div>
                            <div class="total-row discount">
                                <span>Desconto:</span>
                                <span>-R$ <span id="success-discount">0.00</span></span>
                            </div>
                            <div class="total-row total">
                                <strong>Total:</strong>
                                <strong>R$ <span id="success-total">0.00</span></strong>
                            </div>
                        </div>
                    </div>
                    
                    <div class="next-steps">
                        <h3>Próximos Passos</h3>
                        <div class="steps-timeline">
                            <div class="step-item completed">
                                <div class="step-icon">
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="step-content">
                                    <strong>Pedido Confirmado</strong>
                                    <span>Agora mesmo</span>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-icon">
                                    <i class="fas fa-box"></i>
                                </div>
                                <div class="step-content">
                                    <strong>Separação dos Produtos</strong>
                                    <span>Em até 24h</span>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-icon">
                                    <i class="fas fa-truck"></i>
                                </div>
                                <div class="step-content">
                                    <strong>Envio</strong>
                                    <span>Em até 48h</span>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-icon">
                                    <i class="fas fa-home"></i>
                                </div>
                                <div class="step-content">
                                    <strong>Entrega</strong>
                                    <span>5 a 10 dias úteis</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="success-actions">
                        <button class="btn btn-primary" onclick="window.location.href='index.html'">
                            <i class="fas fa-shopping-bag"></i>
                            Continuar Comprando
                        </button>
                        <button class="btn btn-secondary" onclick="window.location.href='contact.html'">
                            <i class="fas fa-headset"></i>
                            Falar com Suporte
                        </button>
                    </div>
                    
                    <div class="contact-info">
                        <h4>Precisa de Ajuda?</h4>
                        <div class="contact-options">
                            <div class="contact-option">
                                <i class="fas fa-phone"></i>
                                <span>(11) 1234-5678</span>
                            </div>
                            <div class="contact-option">
                                <i class="fas fa-envelope"></i>
                                <span>suporte@techstore.com</span>
                            </div>
                            <div class="contact-option">
                                <i class="fas fa-comments"></i>
                                <span>Chat Online</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-top">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <div class="footer-logo">
                            <h3><i class="fas fa-bolt"></i> TechStore</h3>
                            <p>Tecnologia e inovação ao seu alcance. Os melhores produtos com os melhores preços.</p>
                        </div>
                    </div>
                    <div class="footer-section">
                        <h4>Institucional</h4>
                        <ul>
                            <li><a href="about.html"><i class="fas fa-chevron-right"></i> Sobre Nós</a></li>
                            <li><a href="privacy.html"><i class="fas fa-chevron-right"></i> Política de Privacidade</a></li>
                            <li><a href="terms.html"><i class="fas fa-chevron-right"></i> Termos de Uso</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Ajuda</h4>
                        <ul>
                            <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contato</a></li>
                            <li><a href="#"><i class="fas fa-chevron-right"></i> Central de Ajuda</a></li>
                            <li><a href="#"><i class="fas fa-chevron-right"></i> Trocas e Devoluções</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Contato</h4>
                        <div class="contact-info">
                            <p><i class="fas fa-phone"></i> (11) 1234-5678</p>
                            <p><i class="fas fa-envelope"></i> contato@techstore.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; 2024 TechStore. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize AOS
            AOS.init({
                duration: 1000,
                once: true,
                offset: 100
            });
            
            // Load order data
            const orderData = JSON.parse(localStorage.getItem('last_order') || '{}');
            
            if (orderData.orderNumber) {
                // Display order information
                document.getElementById('order-number').textContent = orderData.orderNumber;
                document.getElementById('customer-email').textContent = orderData.customer?.email || 'cliente@exemplo.com';
                
                // Display payment method
                const paymentMethods = {
                    'credit': 'Cartão de Crédito',
                    'debit': 'Cartão de Débito',
                    'pix': 'Pix',
                    'paypal': 'PayPal',
                    'boleto': 'Boleto Bancário'
                };
                document.getElementById('payment-method').textContent = paymentMethods[orderData.payment?.method] || 'Cartão de Crédito';
                
                // Calculate and display totals
                const subtotal = orderData.items?.reduce((sum, item) => sum + (item.price * item.quantity), 0) || 0;
                const discount = subtotal > 500 ? subtotal * 0.1 : 0;
                const shipping = subtotal > 299 ? 0 : 15.90;
                const total = subtotal - discount + shipping;
                
                document.getElementById('success-subtotal').textContent = subtotal.toFixed(2);
                document.getElementById('success-shipping').textContent = shipping > 0 ? shipping.toFixed(2) : 'GRÁTIS';
                document.getElementById('success-discount').textContent = discount.toFixed(2);
                document.getElementById('success-total').textContent = total.toFixed(2);
                
                // Display order items
                const itemsContainer = document.getElementById('success-order-items');
                if (orderData.items && orderData.items.length > 0) {
                    itemsContainer.innerHTML = orderData.items.map(item => `
                        <div class="success-item">
                            <img src="${item.image}" alt="${item.name}" class="success-item-image">
                            <div class="success-item-info">
                                <div class="success-item-name">${item.name}</div>
                                <div class="success-item-details">
                                    <span>Qtd: ${item.quantity}</span>
                                    <span>R$ ${item.price.toFixed(2)}</span>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
                
                // Send confirmation email (simulation)
                sendConfirmationEmail(orderData);
            }
        });
        
        function sendConfirmationEmail(orderData) {
            // Simulate sending confirmation email
            console.log('Enviando e-mail de confirmação para:', orderData.customer?.email);
            console.log('Dados do pedido:', orderData);
            
            // In a real application, this would make an API call
            // For demo purposes, we'll just show a notification
            setTimeout(() => {
                showNotification('E-mail de confirmação enviado com sucesso!', 'success');
            }, 2000);
        }
        
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        function toggleUserMenu() {
            showNotification('Funcionalidade de login em desenvolvimento', 'info');
        }
        
        function toggleTheme() {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            const themeButton = document.querySelector('.btn-theme i');
            themeButton.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            
            showNotification(`Tema ${newTheme === 'dark' ? 'escuro' : 'claro'} ativado`, 'info');
        }
        
        function toggleCart() {
            const cartSidebar = document.getElementById('cart-sidebar');
            const overlay = document.getElementById('overlay');
            
            cartSidebar.classList.toggle('active');
            overlay.classList.toggle('hidden');
        }
    </script>
</body>
</html>
